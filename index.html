<!DOCTYPE html>
<html lang="en">
    <head>
        <title>QR Code gerenation and read</title>
        <link href="css/bootstrap-3.3.4-min.css" rel="stylesheet" />
        <script src="js/jquery.js"></script>    
        <script src="js/bootstrap.min.js"></script>
        <script src="js/qrcode.js"></script>    

        <script>

            $( document ).ready(function() {
                var qrcode= new QRCode(document.getElementById("qrcodeonload"), "www.manjustechblog.com");

            });
            //user entering value into text box
            function inputChanged(){
                $("#qrcodeheaderid").toggle();//if shown hide it now
                // clear the code.


            }
            function myFunction(){
                var qrcode1=''
                qrcode1 = new QRCode(document.getElementById("qrcodeoninput"), { 
                    height:100,
                    width:128,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });
            }
            function onQRCodeSubmit(){
                inputChanged();
                var inputVal=$("#qrcodeval").val();

                qrcode1.makeCode(inputVal);
                //$("#qrcodeheaderid").toggle();
            }
        </script>
        <style>
            img{
                width:120px;
                height:100px;
                margin-top:15px;
            }
        </style>
    </head>
    <body>
        <div class="container">
            <div class="row">
                <h3>Hardcoded data-Approach 1</h3>
                <p>Below we see that a QR code is generated on load itself. On the load of this page we create QRCode object and pass it the element id(qrcodeonload) where QRCode has to be shown and the second parameter is the content we want to show there</p>
                <div id="qrcodeonload"></div>
                <h2>Get input content from user and generate QRCode-Approach 2</h2>    
                <p>User can input anything.This is very convenient since user can enter any data</p>
                <form class="navbar-form navbar-left" role="search" onSubmit="onQRCodeSubmit();return false;">
                    <div class="form-group">
                        <input id="qrcodeval" type="text" class="form-control" placeholder="Value">
                    </div>
                    <button type="submit" class="btn btn-default btn-primary">Generate QRCode</button>
                    <button type="button" onclick="myFunction()" class="btn btn-default btn-primary">Clear</button>
                </form>
                <br><br><br><br>
                <h4 id="qrcodeheaderid" style="display:none;color:blue;font-size:12px">Generated QR Code is</h4>
                <div id="qrcodeoninput"></div>

            </div>
        </div>
    </body>